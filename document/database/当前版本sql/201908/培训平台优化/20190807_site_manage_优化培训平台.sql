delete per from grid_menu_permission per inner join grid_menu_config conf on conf.id = per.menu_id where conf.flag_menu_type = 'd6228e78ff1a11e7ab1d001e671d0be8';
delete from grid_menu_config where flag_menu_type = 'd6228e78ff1a11e7ab1d001e671d0be8';
UPDATE `grid_basic_config` SET `id`='arrangeClassCourseTimetable', `title`='课程表安排', `can_search`='1', `can_add`=NULL, `can_delete`=NULL, `can_update`=NULL, `can_batch_add`=NULL, `can_projections`='1', `first_search`='0', `entity_class`='com.whaty.domain.bean.ClassCourseTimetable', `note`=NULL, `list_type`='1', `dc`='', `flag_active`='4028809c1d625bcf011d66fd0dda0006', `flag_bak`=NULL, `dateFormat`=NULL, `sqlstr`='SELECT\n	cct.id AS id,\n        cl.id as classId,\n	cl. NAME AS className,\n	count(stu.id) AS studentNumber,\n	cou.id as courseId,\n	cou. NAME AS courseName,\n	tea.`name` AS teacherName,\n       cct.training_date as trainingDate,\n	ct.start_time AS startTime,\n	ct.end_time AS endTime,\n	tt. NAME AS teachType,\n	aa.id AS coursewareId,\n	cct.note AS note,\n        ct.id as courseTimeId,\n        ct.name as courseTIme\nFROM\n	class_course_timetable cct\nLEFT JOIN course_time ct on ct.id = cct.fk_course_time_id\nINNER JOIN class_course cc ON cc.id = cct.fk_class_course_id\nINNER JOIN pe_course cou ON cou.id = cc.fk_course_id\nINNER JOIN enum_const tt ON tt.id = cou.flag_course_type\nINNER JOIN pe_class cl ON cl.id = cc.fk_class_id\nLEFT JOIN pe_student stu ON stu.fk_class_id = cl.id\nLEFT JOIN pe_teacher tea ON tea.id = cou.fk_teacher_id\nLEFT JOIN attach_file aa ON aa.id = cct.fk_courseware_id\nGROUP BY\n	cct.id', `statistics`=NULL, `s_note`=NULL, `update_note`=NULL, `is_enum`=NULL, `countsql`=NULL, `isGroupSql`=NULL, `LIST_FUNCTION`='0', `FLAG_INTE_ACTIVE`=NULL, `fk_web_site_id`='4028ae316a09ee85016a09f4d7640000', `can_checked_all`='1', `add_mode`='dialog', `add_cmp_name`=NULL, `fk_chart_id`=NULL WHERE (`id`='arrangeClassCourseTimetable');
INSERT INTO `grid_column_config` (`ID`, `fk_action_grid_config_id`, `name`, `dataindex`, `data_column`, `search`, `to_add`, `to_update`, `column_can_update`, `list`, `report`, `type`, `dateFormat`, `allow_blank`, `max_length`, `check_message`, `check_regular`, `text_field_parameters`, `combo_sql`, `serial_number`, `flag_active`, `flag_bak`, `user_type`, `team`, `s_note`, `sql_result`, `is_html`, `default_text`, `cascade_columns`) VALUES ('4028ae316c6a1e9c016c6a2064d70000', 'arrangeClassCourseTimetable', '师资费用', 'teacherFee', '', '1', '1', '1', '0', '1', '1', 'TextField', 'yyyy-MM-dd', '1', '50', '只允许0-5位的整数或小数', '^[0-9]{1,5}(\\\\.[0-9]{1,2})?$', NULL, '', '11', '4028809c1d625bcf011d66fd0dda0006', NULL, NULL, '', '', '', NULL, '', NULL);
UPDATE `grid_column_config` SET `ID`='4028ae316aaf5a3f016aafc76a160009', `fk_action_grid_config_id`='arrangeClassCourseTimetable', `name`='备注', `dataindex`='note', `data_column`='note', `search`='1', `to_add`='1', `to_update`='1', `column_can_update`='0', `list`='1', `report`='1', `type`='TextField', `dateFormat`='yyyy-MM-dd', `allow_blank`='1', `max_length`='255', `check_message`='', `check_regular`='', `text_field_parameters`=NULL, `combo_sql`='', `serial_number`='13', `flag_active`='4028809c1d625bcf011d66fd0dda0006', `flag_bak`=NULL, `user_type`=NULL, `team`='', `s_note`='', `sql_result`='', `is_html`=NULL, `default_text`='', `cascade_columns`=NULL WHERE (`ID`='4028ae316aaf5a3f016aafc76a160009');
UPDATE `grid_basic_config` SET `id`='arrangeClassCourseTimetable', `title`='课程表安排', `can_search`='1', `can_add`=NULL, `can_delete`=NULL, `can_update`=NULL, `can_batch_add`=NULL, `can_projections`='1', `first_search`='0', `entity_class`='com.whaty.domain.bean.ClassCourseTimetable', `note`=NULL, `list_type`='1', `dc`='', `flag_active`='4028809c1d625bcf011d66fd0dda0006', `flag_bak`=NULL, `dateFormat`=NULL, `sqlstr`='SELECT\n	cct.id AS id,\n        cl.id as classId,\n	cl. NAME AS className,\n	count(stu.id) AS studentNumber,\n	cou.id as courseId,\n	cou. NAME AS courseName,\n	tea.`name` AS teacherName,\n       cct.training_date as trainingDate,\n	ct.start_time AS startTime,\n	ct.end_time AS endTime,\n	tt. NAME AS teachType,\n	aa.id AS coursewareId,\n	cct.note AS note,\n        ct.id as courseTimeId,\n        ct.name as courseTIme,\n        cct.teacher_fee as teacherFee\nFROM\n	class_course_timetable cct\nLEFT JOIN course_time ct on ct.id = cct.fk_course_time_id\nINNER JOIN class_course cc ON cc.id = cct.fk_class_course_id\nINNER JOIN pe_course cou ON cou.id = cc.fk_course_id\nINNER JOIN enum_const tt ON tt.id = cou.flag_course_type\nINNER JOIN pe_class cl ON cl.id = cc.fk_class_id\nLEFT JOIN pe_student stu ON stu.fk_class_id = cl.id\nLEFT JOIN pe_teacher tea ON tea.id = cou.fk_teacher_id\nLEFT JOIN attach_file aa ON aa.id = cct.fk_courseware_id\nGROUP BY\n	cct.id', `statistics`=NULL, `s_note`=NULL, `update_note`=NULL, `is_enum`=NULL, `countsql`=NULL, `isGroupSql`=NULL, `LIST_FUNCTION`='0', `FLAG_INTE_ACTIVE`=NULL, `fk_web_site_id`='4028ae316a09ee85016a09f4d7640000', `can_checked_all`='1', `add_mode`='dialog', `add_cmp_name`=NULL, `fk_chart_id`=NULL WHERE (`id`='arrangeClassCourseTimetable');
INSERT INTO `grid_column_config` (`ID`, `fk_action_grid_config_id`, `name`, `dataindex`, `data_column`, `search`, `to_add`, `to_update`, `column_can_update`, `list`, `report`, `type`, `dateFormat`, `allow_blank`, `max_length`, `check_message`, `check_regular`, `text_field_parameters`, `combo_sql`, `serial_number`, `flag_active`, `flag_bak`, `user_type`, `team`, `s_note`, `sql_result`, `is_html`, `default_text`, `cascade_columns`) VALUES ('4028ae316c6a1e9c016c6a22bd900001', 'arrangeClassCourseTimetable', '课件', 'coursewareName', 'courseware.name', '0', '1', '1', '0', '0', '0', 'TextField', 'yyyy-MM-dd', '1', '50', '', '', NULL, '', '12', '4028809c1d625bcf011d66fd0dda0006', NULL, NULL, '', '', '', NULL, '', NULL);
UPDATE `grid_column_config` SET `ID`='4028ae316ab00b91016ab01099950000', `fk_action_grid_config_id`='arrangeClassCourseTimetable', `name`='coursewareId', `dataindex`='coursewareId', `data_column`='courseware.id', `search`='0', `to_add`='0', `to_update`='0', `column_can_update`='0', `list`='0', `report`='0', `type`='TextField', `dateFormat`='yyyy-MM-dd', `allow_blank`='1', `max_length`='50', `check_message`='', `check_regular`='', `text_field_parameters`=NULL, `combo_sql`='', `serial_number`='12', `flag_active`='4028809c1d625bcf011d66fd0dda0006', `flag_bak`=NULL, `user_type`=NULL, `team`='', `s_note`='', `sql_result`='', `is_html`=NULL, `default_text`='', `cascade_columns`=NULL WHERE (`ID`='4028ae316ab00b91016ab01099950000');
INSERT INTO `grid_menu_config` (`fk_grid_id`, `flag_menu_type`, `flag_integrated_menu_type`, `text`, `show_type`, `column_type`, `fix`, `must_select_row`, `select_limit`, `data_index`, `null_text`, `show_confirm`, `confirm_text`, `url`, `extra_parameters`, `waiting_msg`, `success_msg`, `error_msg`, `open_mode`, `form_config`, `user_type`, `flag_is_valid`, `serial_number`, `script`, `column_data_index`, `value`, `tips`, `extend_menu_config`) VALUES ('30539', 'classManage', 'a92817f1361611e8a37efcaa140ebf84', NULL, '班级详情管理', 'column', 'left', '0', '0', '1', 'id', '', '1', '', NULL, NULL, '', NULL, NULL, '_blank', NULL, NULL, '2', '9', NULL, NULL, NULL, '', '{\"routerName\": \"moreGridTabs\", \"fieldName\": \"parentId\", \"configUrl\": \"/entity/clazz/classManage/detailConfig\", \"namespace\": \"peClass\", \"isShowNav\": false, \"isShowBack\": false}');
INSERT INTO `pe_base_category` (`id`, `name`, `code`, `router_name`, `url`, `fk_grid_id`, `flag_isvalid`, `flag_is_system`, `fk_base_category_group`) VALUES ('1150', '通用grid tabs', 'more-grid-tabs', 'moreGridTabs', '', NULL, '2', '0bc108f54df211e8aac8fcaa140ebf84', '3');
INSERT INTO `pe_pri_category` (`ID`, `NAME`, `FK_PARENT_ID`, `CODE`, `PATH`, `FLAG_LEFT_MENU`, `serial_Number`, `isActive`, `LEVEL`, `fk_grid_id`, `fk_web_site_id`, `icon`, `fk_base_category_id`, `base_id`, `show_in_left_menu`) VALUES ('4028ae316c6ac259016c6ad94ff40000', '班级详情管理', '4028ae316a66b5f8016a66c3feb20004', NULL, NULL, '1', '4', '1', '3', NULL, '4028ae316a09ee85016a09f4d7640000', NULL, '1150', '6e3f4f0f2b434badb1e5e3924ae97572', '0');
